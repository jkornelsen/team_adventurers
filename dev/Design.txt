---- recent ----

---- changes to consider ----

can a numeric attrib requirement be 0 or negative?
-1 was accepted because none was found, which is 0
but that doesn't make sense
should be able to require both checked and unchecked?
maybe recipe_attribs should have min_val and max_val
    currently has "value real not null"
that would make it possible to specify an exact val
might want an AttribReq class derived from AttribFor
we currently have this which seems pretty good:
    def exceeds_limit(self, quantity):
        return (
            (self.q_limit > 0.0 and quantity > self.q_limit) or
            (self.q_limit < 0.0 and quantity < self.q_limit)
            )
attribs maybe should use the same rules as items
no, that's a limit, which is not the same as a requirement
maybe recipe_attribs could have one of: '>=', '<=', '='
no, min and max give more capability
maybe if max is empty then treat as infinity like q_limit
that shouldn't be too annoying for the user if it defaults to '>='
also, add code to only count for 0 if the attr exists
maybe hasattr, or .get('attrname', None) instead of ,0 as default
example: new calf

travel and item progress restarts instead of pausing when stopped
if that is what we decide then the action bar should go immediately to 0
ignoring an event causes travel progress timer to restart

shouldn't be able to have both a two-way dest and an arrival one-way dest

implement checking triggers for item progress
maybe in item_progress, similar to call in char_progress
event.check_trigger_for_duration(time_spent)
pop up event in play/item.html like in play/character.html
we'll also want it for overview eventually

are item triggers only for general qty?

check for triggered events in overview

don't allow production if byproducts would exceed limit
or maybe allow but don't go past limit, and prefer no limit

scenario: Fission Plant
win condition includes no more than a certain amount of pollution
events trigger during production of some recipes
use waste as a determining attr for increased
likelihood of bigger problem
chance could improve with upgrades

scenario: Furniture
People: old man, young husband, young wife, elementary schooler, baby, dog, cat

gain all instant could be more convenient than entering e.g. 9999 batches
maybe a button or 0 for number of batches, or "(A)ll"

prompt each player to save to their PC occasionally
only if no one recently saved from that session
warn that loading will erase any scenario currently being played, so save first

limit upload file size
for example 10 Mb
at 90% warn to remove content to avoid going over limit

---- issues ----

dollars for lemonade stand suddenly lost its recipe, yet progress continued
I think this was during item play, not configure

game_routes.py line 558, in item_progress
    item = Item.data_for_play(
recipe.py line 234, in load_complete_data
    recipes_data = item_recipes[recipe_row.item_id]
KeyError: 11

---- planning ----

hosting possibilities:
Pythonanywhere should be able to host postgres and flask web app.
https://www.reddit.com/r/flask/comments/12beskr/free_hosting_sites_compatible_with_flask/
render.com is an alternative.

try selenium to test client side

consider sharing community scenarios
perhaps submit to reddit, or github via enhancement requests

---- doesn't seem important currently ----

travel could take a resource such as food for each distance step
the character object would have this resource
or use an instant item to do this manually
that would make it easier to take 1 ticket or Rs.5 per x distance

an attribute could be the season
so an event based on the season would have a worse chance or lower average
distance if season is winter
winter would be explained in the attr description,
and the implementation would be an input box showing * 0.9

prompt before overwriting another action in progress
such as if a character is already doing something else

to travel from one location to another, selecting from a dropdown may
be a bit tedious
could have buttons instead to start travelling to a location
perhaps we could use those instead of a single start button
would still have a single stop button
only a single distance display as well
maybe display would include destination name: "Distance to Home: 3 of 10"
since button would simply show "Travelling."
other buttons would be greyed out if travelling.

would attributes be useful for locations?
for example, how dark a room is,
or deep water would require swimming or limit evasion
perhaps it would be better to simply mention such things in location description
however, this could replace crafting stations

for locations, have speed as well as distance
characters would have travel speed for a particular location?
for example, a swimming speed and a walking speed
speed for a particular type of terrain, and a location would have a type of terrain
or we could manually change the character's speed when entering a new location

base chances could be displayed in the form of 1 / 10000 ticks
or 3 / 5 chance to hit
also min and max result,
for example, 70% chance to do between 30 and 60 damage.

events should automatically select last character viewed?
seems better to have select box to select from all lists
wouldn't change selection if a particular box doesn't have it
could only show for three or more -- "Select all"
seems good as long as we can find an intuitive place to put it on the page

if item play gets too cluttered we could make a recipe play screen
it wouldn't have the upper button actions such as pickup
that would be the only place where progress would be shown
some events could be related to production, including all
automatically triggered ones,
while 'shoot' would make more sense on item play instead

if an item cannot be produced,
reload play item every 10 seconds until it can be?
although that might not be why we're viewing the page,
and if not, it could be annoying

will it be difficult if several elapsed-time actions depend on each other?
pen requires lid requires plastic, and each is incremented regularly
when querying an item, first recursively query
all of its sources that are in progress
avoid recursion loops by maintaining a set of items to query
the set would need to be a local variable passed as a parameter

the player could control this by playing the source item first
although that wouldn't be obvious at all
going to overview would also take away that choice for top-level items
