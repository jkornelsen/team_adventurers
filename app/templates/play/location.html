<!DOCTYPE html>
<html>
<head>
    <title>Location Information</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="nav-container">
        <a class="upper-left" href="{{ url_for('overview') }}">Overview</a>
        <span class="separator">|</span>
        <a class="upper-left" href="{{ url_for('configure') }}">General Setup</a>
    </div>
    <h1>{{ current_location.name }}</h1>
    {% if location.description %}
        <p>{{ location.description }}</p>
    {% endif %}

    <h2>Characters</h2>
    <ul>
        {% for character in location.game_data.characters if character.location.id == location.id %}
            <li>
                <a href="{{ url_for('play_character', character_id=character.id) }}">{{ character.name }}</a>
            </li>
        {% endfor %}
    </ul>

    <h2>Items</h2>
    <ul>
        {% for item in location.game_data.items if item.contained_by and item.contained_by.__class__.__name__ == 'Location' and item.contained_by.id == location.id %}
            <li>
                <a href="{{ url_for('play_item', item_id=item.id) }}">{{ item.name }}</a>
            </li>
        {% endfor %}
    </ul>

    <h2>Destinations</h2>
    <ul>
        {% for destination, distance in location.destinations.items() %}
            <li>
                <a href="{{ url_for('play_location', location_id=destination.id) }}">{{ destination.name }}</a> -
                Distance: {{ distance }}
            </li>
        {% endfor %}
    </ul>
</body>
</html>

